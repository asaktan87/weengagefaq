<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Intranet FAQ Bot</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="light dark" />
  <style>
    :root { --ring: 59 130 246; }
    .chat-message { animation: slideIn .25s ease-out; }
    @keyframes slideIn { from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)} }
    .typing-indicator { animation: pulse 1.4s infinite; }
    @keyframes pulse { 0%,100%{opacity:.5} 50%{opacity:1} }
    mark { padding: 0 .15rem; border-radius: .25rem; }
  </style>
</head>

<body class="min-h-full bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-950">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Header -->
    <header class="text-center mb-8">
      <div id="brandBadge" class="inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 bg-blue-600">
        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <h1 id="brandTitle" class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">FAQ Assistant</h1>
      <p id="brandSubtitle" class="text-gray-600 dark:text-gray-300">Get instant answers to your workplace questions</p>

      <div class="mt-4 flex items-center justify-center gap-2">
        <button id="darkToggle" class="px-3 py-1.5 text-sm rounded-lg border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-200 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700">
          Toggle dark mode
        </button>
      </div>
    </header>

    <!-- Quick Categories -->
    <section class="mb-6">
      <h2 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-3">Popular Topics</h2>
      <div id="categoryButtons" class="flex flex-wrap gap-2">
        <button onclick="selectCategory('employees')" class="px-4 py-2 bg-white dark:bg-slate-900 rounded-full text-sm font-medium text-gray-700 dark:text-gray-100 hover:bg-blue-50 dark:hover:bg-slate-800 hover:text-blue-600 transition-colors border border-gray-200 dark:border-gray-700">
          ğŸ‘©â€ğŸ’¼ Employees
        </button>
        <button onclick="selectCategory('managers')" class="px-4 py-2 bg-white dark:bg-slate-900 rounded-full text-sm font-medium text-gray-700 dark:text-gray-100 hover:bg-blue-50 dark:hover:bg-slate-800 hover:text-blue-600 transition-colors border border-gray-200 dark:border-gray-700">
          ğŸ‘¨â€ğŸ’¼ Managers
        </button>
        <button onclick="selectCategory('hrbps')" class="px-4 py-2 bg-white dark:bg-slate-900 rounded-full text-sm font-medium text-gray-700 dark:text-gray-100 hover:bg-blue-50 dark:hover:bg-slate-800 hover:text-blue-600 transition-colors border border-gray-200 dark:border-gray-700">
          ğŸ§© HRBPs
        </button>
        <button onclick="selectCategory('production')" class="px-4 py-2 bg-white dark:bg-slate-900 rounded-full text-sm font-medium text-gray-700 dark:text-gray-100 hover:bg-blue-50 dark:hover:bg-slate-800 hover:text-blue-600 transition-colors border border-gray-200 dark:border-gray-700">
          ğŸ­ Production Site
        </button>
      </div>
    </section>

    <!-- Chat Interface -->
    <section aria-label="FAQ chat" class="bg-white dark:bg-slate-900 rounded-lg shadow-lg overflow-hidden">
      <!-- Chat Messages -->
      <div id="chatMessages" class="h-96 overflow-y-auto p-6 space-y-4" aria-live="polite">
        <div class="chat-message flex items-start space-x-3">
          <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-white" id="botAvatar" style="background:#2563eb">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
            </svg>
          </div>
          <div class="bg-gray-100 dark:bg-slate-800 rounded-lg px-4 py-3 max-w-md">
            <p class="text-gray-800 dark:text-gray-100">
              Hi! Iâ€™m your FAQ assistant. Ask me anything by categoryâ€”Employees, Managers, HRBPs, or Production Siteâ€”or type a question below.
            </p>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <div class="border-t border-gray-200 dark:border-gray-800 p-4">
        <form id="chatForm" class="flex gap-3" autocomplete="off">
          <input
            type="text"
            id="messageInput"
            placeholder="Ask your question hereâ€¦"
            class="flex-1 border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[rgb(var(--ring))] focus:border-transparent bg-white dark:bg-slate-800 text-gray-900 dark:text-gray-100"
          />
          <button
            type="submit"
            class="px-5 py-2 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-[rgb(var(--ring))]"
          >
            Send
          </button>
        </form>
        <div id="recentQ" class="mt-3 flex flex-wrap gap-2"></div>
      </div>
    </section>

    <!-- Suggested Questions -->
    <section class="mt-6">
      <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-3">Frequently Asked Questions</h3>
      <div id="suggested" class="grid md:grid-cols-2 gap-3"></div>
    </section>
  </div>

  <!-- âœ… Script: now wrapped in DOMContentLoaded -->
  <script>
  window.addEventListener("DOMContentLoaded", () => {

    // All your existing JavaScript content here (unchanged)
    // â¬‡ï¸ Copy everything from CONFIG ... all the way down ...

    const CONFIG = {
      companyName: "Straumann Group",
      subtitle: "Get instant answers to your workplace questions",
      primaryBg: "bg-blue-600",
      primaryRing: "59 130 246",
      contacts: { hr: "we-engage@straumann.com", it: "it-helpdesk@straumann.com" }
    };

    // ... (keep the rest of your logic exactly as in your current version) ...

    // Last line before closing the wrapper:
  });
  </script>
</body>
</html>
